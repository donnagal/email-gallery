<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width">
  <title>Email Report Dashboard</title>
  <link href="../../images/favion.png" rel="icon" type="image/x-icon" />

  <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@700&display=swap" rel="stylesheet">
  <link rel='stylesheet' href='../../css/v-dashbaord.css'>
  <link rel='stylesheet' href='https://kit-pro.fontawesome.com/releases/v5.13.1/css/pro.min.css'>
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/0.7.4/tailwind.min.css'>
  <link rel="stylesheet" href="../../css/global.css">
  <link rel="stylesheet" href="../../css/swiper-bundle.min.css">

  <style>
    .card-template, .card-inspo {
      display: none;
    }
	.active {
		font-weight: bold;
		color: black;
	}
	.rotate {
		-webkit-transform: rotate(180deg);
		-moz-transform: rotate(180deg);
		-o-transform: rotate(180deg);
		-ms-transform: rotate(180deg);
		transform: rotate(180deg);
	}
	.hover:hover {
		opacity: .7;
        transition: opacity 0.2s ease-in;
	}

	.px-lg-md { padding-left: 8rem; padding-right: 8rem; }
	.h-lg-md { height: 43rem; }

	/* md */
	@media (max-width: 1600px){
		.px-lg-md { padding-left: 3rem; padding-right: 4rem; }
		.h-lg-md { height: 23rem; }
	}
	.ecol-lg {width: 15%;}
	.ecol-md {width: 7%;}
	.ecol {width: 5%;}


	


  </style>
      <!-- Global site tag (gtag.js) - Google Analytics -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-LF495ZKW9K"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
  
        gtag('config', 'G-LF495ZKW9K');
      </script>
</head>

	<body>

		<div id="nav">
			<header>
				<div class="bg-black mx-auto text-white px-5 text-center">
				  <div class="flex py-2">
					<div class="flex-1">
					  <h1 class="font-bold text-2xl">Dashboard</h1>
					</div>
				  </div>
				</div>
			  </header>
			<nav class="animate-add z-100">
			  <div class="nav-overlay"></div>
			  <button type="button" class="slide-toggle">
				  <div class="menu-wrapper">
					  <div class="hamburger-menu"></div>	  
				  </div>
			  </button>
			  <div class="menu z-100">
				  <div class="menu-inner">
					  <div class="bg-gray-900 h-screen py-8 font-bold">
						<nav class="mt-10">
							<a class="flex items-center px-6 py-2 mt-4 duration-200 border-l-4 border-gray-900 text-gray-500 hover:bg-gray-600 hover:bg-opacity-25 hover:text-gray-100" 
								href="https://email-gallery.netlify.app/"><i class="fas fa-th-large"></i> <span class="mx-4">Gallery</span>
							</a>
							<a class="flex items-center px-6 py-2 mt-4 duration-200 border-l-4 bg-gray-600 bg-opacity-25 text-gray-100 border-gray-100" 
								href="https://email-gallery.netlify.app/pages/reports/"><svg class="w-5 h-5" viewbox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
								<path d="M2 10C2 5.58172 5.58172 2 10 2V10H18C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10Z" fill="currentColor"></path>
								<path d="M12 2.25195C14.8113 2.97552 17.0245 5.18877 17.748 8.00004H12V2.25195Z" fill="currentColor"></path></svg> <span class="mx-4">
								Dashboard</span>
							</a> 
							<a target="_blank" class="flex items-center px-6 py-2 mt-4 duration-200 border-l-4 border-gray-900 text-gray-500 hover:bg-gray-600 hover:bg-opacity-25 hover:text-gray-100" href="https://www.senderscore.org/report/?lookup=66.235.130.62&authenticated=true"><i class="mr-5 fas fa-chart-line"></i> 
								Sender Score
							</a> 
							<a class="flex items-center px-6 py-2 mt-4 duration-200 border-l-4 border-gray-900 text-gray-500 hover:bg-gray-600 hover:bg-opacity-25 hover:text-gray-100" href="https://email-gallery.netlify.app//pages/reports/bi-annual-report"><i class="fas fa-list-ol"></i> <span class="mx-4">
								Bi-annual report</span>
							</a> 
							<a class="flex items-center px-6 py-2 mt-4 duration-200 border-l-4 border-gray-900 text-gray-500 hover:bg-gray-600 hover:bg-opacity-25 hover:text-gray-100" href="https://email-gallery.netlify.app/pages/utm-tracking/"><i class="fas fa-pen-square"></i> <span class="mx-4">
								UTM Tool</span>
							</a> 
						</nav>
					  </div>
				  </div>
			   </div>
			</nav>
		</div>


		<div data-v-app="" id="app">
			<div class="flex h-screen bg-gray-200 font-roboto">

			<div class="flex-1 flex flex-col overflow-hidden">
				<main class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-400">
					<div class="px-lg-md md:container mx-auto py-8">
						<div>

		<div class="mt-8"></div>

<!-- Search -->
<div class="w-full mt-5 flex justify-between p-3 rounded-lg">
	<div class="w-full">
		<input type="text" id="search-text" placeholder="search" class="w-2/3 search-box search-box border border-gray-200 rounded-md">
		<span class="list-count text-gray-500"></span>
	</div>
  </div>
 <!-- End: Search -->

	<!-- Email table -->
	<div class="bg-white ">

		<table class="email-list min-w-full mt-2 -mb-1 rounded-lg">
			<thead>
				<tr class="cursor-pointer text-center">
					<th @click="sortBy('name')" class="ecol-lg text-left pl-3 py-3 text-xs font-light leading-4 tracking-wider text-gray-500 uppercase border-b border-gray-200 bg-gray-50">
						Name
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sort-arrow fill-current h-4 w-4 inline"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"></path></svg>
					</th>
					<th @click="sortBy('day')" class="ecol-md py-3 text-xs font-light leading-4 tracking-wider text-gray-500 uppercase border-b border-gray-200 bg-gray-50">
						Date
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sort-arrow fill-current h-4 w-4 inline"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"></path></svg>
					</th>
					<th @click="sortBy('openrate')" class="ecol py-3 text-xs font-light leading-4 tracking-wider text-gray-500 uppercase border-b border-gray-200 bg-gray-50">
						Opens
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sort-arrow fill-current h-4 w-4 inline"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"></path></svg>
					</th>
					<th @click="sortBy('ctor')" class="ecol py-3 text-xs font-light leading-4 tracking-wider text-gray-500 uppercase border-b border-gray-200 bg-gray-50">
						CTOR
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sort-arrow fill-current h-4 w-4 inline"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"></path></svg>
					</th>
					<th @click="sortBy('unsub')" class="ecol py-3 text-xs font-light leading-4 tracking-wider text-gray-500 uppercase border-b border-gray-200 bg-gray-50">
						Opt-Outs
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sort-arrow fill-current h-4 w-4 inline"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"></path></svg>
					</th>
					<th @click="sortBy('sent')" class="ecol py-3 text-xs font-light leading-4 tracking-wider text-gray-500 uppercase border-b border-gray-200 bg-gray-50">
						Size
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sort-arrow fill-current h-4 w-4 inline"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"></path></svg>
					</th>
				</tr>
			</thead>
		</table>
	</div>

		<div class="flex flex-col mt-1 pr-5 h-lg-md">
			<div class="py-2 -my-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8">
				<div class="inline-block min-w-full overflow-hidden align-middle border-b border-gray-200 shadow sm:rounded-lg">
					<table id="list" class="email-list min-w-full text-center">
						<tbody class="bg-white">
						<template v-for="listData in lists">
							<tr class="in card " :class="['card-' + listData.group + ' ' + listData.color + ' ' + listData.filter]">
								<td class="ecol-lg py-4 border-b border-gray-200 text-left pl-3">
									<div class="flex items-center">
										<div class="flex-shrink-0">
											<a target="_blank" :href="listData.url">
												<img class="bg-grey hover border border-2" 
													:src="'https://image.thum.io/get/width/120/crop/900/' + listData.url" 
												/> 
											</a>
										</div>
										<div class="ml-4">
											<div class="text-sm font-bold leading-5 text-gray-900">
												{{listData.name}}
											</div>
											<div class="text-sm leading-5 text-gray-500">
												<p class="">
													{{ listData.subject }}
												</p>
											</div>
												<div class="text-xs text-gray-900">
												{{listData.id}}
											</div>
										</div>
									</div>
								</td>
								<td class="ecol-md py-4 border-b border-gray-200">
									<div class="text-sm leading-5 text-gray-900">
										{{ listData.day }}
									</div>
								</td>
								<td class="ecol py-4 border-b border-gray-200">
									<div class="text-lg font-bold leading-5 text-gray-900">
										{{ listData.openrate }}%
									</div>
									<div class="text-sm leading-5 text-gray-500">
										{{ listData.opens }}
									</div>
								</td>
								<td class="ecol py-4 border-b border-gray-200">
									<div class="text-lg font-bold leading-5 text-gray-900">
										{{ listData.ctor }}%
									</div>
									<div class="text-sm leading-5 text-gray-500">
										{{ listData.clicks }}
									</div>
								</td>
								<td class="ecol py-4 border-b border-gray-200">
									<div class="text-lg font-bold leading-5 text-gray-900">
										{{ listData.unsub }}
									</div>
									<div class="text-sm leading-5 text-gray-500">
										{{ listData.unsubrate }}% 
									</div>
								</td>
								<td class="ecol py-4 border-b border-gray-200">
									<div class="text-lg leading-5 text-gray-900">
										{{ listData.sent }}
									</div>
								</td>

							</tr>
						</template>
						</tbody>
					</table>
					<span class="empty-item">no results</span>
				</div>
			</div>
		</div>
	<!-- End table -->


							</div>
						</div>
					</main>
				</div>

				
			</div>
		</div>
	</body>
	<script src='https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
	<script src="../../js/filter-group.js"></script>
	<script src="../../js/global.js"></script>
	<script src="../../js/vue.min.js"></script>
	<script  src="./script.js"></script>
	<script src="../../js/swiper-bundle.min.js"></script>
   
	<!-- Initialize Swiper -->
	  <script>
		var swiper = new Swiper(".smsSwiper", {
		  pagination: {
			el: ".swiper-pagination",
		  },
		  navigation: {
			nextEl: ".swiper-button-next",
			prevEl: ".swiper-button-prev",
		  },
		});

		//filter
		$(document).ready(function(){
			$('.email-list').on('click', 'th', function() {
				$('.email-list th.active').removeClass('active');
				$(this).addClass('active');
			});

			
			$('.email-list').click(function() {
				$('.sort-arrow').toggleClass('rotate');
			});

		});

		//search
		$(document).ready(function() {

			var jobCount = $('#list .in').length;
			$('.list-count').text(jobCount + ' items');
			

			$("#search-text").keyup(function () {
			//$(this).addClass('hidden');

			var searchTerm = $("#search-text").val();
			var listItem = $('#list').children('li');

			
			var searchSplit = searchTerm.replace(/ /g, "'):containsi('")
			
			//extends :contains to be case insensitive
			$.extend($.expr[':'], {
			'containsi': function(elem, i, match, array)
			{
			return (elem.textContent || elem.innerText || '').toLowerCase()
			.indexOf((match[3] || "").toLowerCase()) >= 0;
			}
			});
			
			
			$("#list tr").not(":containsi('" + searchSplit + "')").each(function(e)   {
				$(this).addClass('hiding out').removeClass('in');
				setTimeout(function() {
					$('.out').addClass('hidden');
				}, 300);
			});
			
			$("#list tr:containsi('" + searchSplit + "')").each(function(e) {
				$(this).removeClass('hidden out').addClass('in');
				setTimeout(function() {
					$('.in').removeClass('hiding');
				}, 1);
			});
			

				var jobCount = $('#list .in').length;
					$('.list-count').text(jobCount + ' items');
					
					//shows empty state text when no jobs found
					if(jobCount == '0') {
						$('#list').addClass('empty');
					}
					else {
						$('#list').removeClass('empty');
					}
					
				});			  
			});

	  </script>
</body>

</html>
